<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<title>Monitor commands - pyavrocd</title>
<link href="../css/theme.css" rel="stylesheet"/>
<link href="../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<link href="../style.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Monitor commands";
        var mkdocs_page_input_path = "monitor-commands.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<link href="../../docs/pyavrocd.pdf" rel="alternate" title="PDF" type="application/pdf"/></head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href=".."> pyavrocd
        </a><div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL/">GDB server</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../debugging-software/">Debugging software</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../board-preparation/">Preparing the target</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../connect-to-target/">Connecting to target</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../command-line-options/">Invoking the server</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/">Debugging the target</a>
</li>
<li class="toctree-l1 current"><a class="reference internal current" href="#">Monitor commands</a>
<ul class="current">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../restore-original-state/">Restoring the target</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Supported devices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../supported-mcus-and-boards/">MCUs</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../supported-debuggers/">Hardware debuggers</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Caveats</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../disclaimer/">Disclaimer</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../debugwire-risks/">debugWIRE</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flash-wear/">Flash wear</a>
</li>
</ul>
<p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/">Release notes</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.txt">License</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="..">pyavrocd</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href=".."></a></li>
<li class="breadcrumb-item">Usage</li>
<li class="breadcrumb-item active">Monitor commands</li>
<li class="wy-breadcrumbs-aside">
<a class="icon icon-github" href="https://github.com/felias-fogg/pyavrocd/edit/master/docs/monitor-commands.md"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="monitor-commands">Monitor commands</h1>
<p>Pyavrocd implements several <code>monitor</code> commands. These can be used to control important aspects of the GDB server. One important command is the <code>monitor debugwire enable</code> command, which enables debugWIRE mode on MCUs supporting this interface.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>monitor atexit</code> [<code>stayindebugwire</code> | <code>leavedebugwire</code>]</td>
<td>When specifying <code>leavedubgwire</code>, then debugWIRE mode will be left when exiting the debugger. This is useful when dealing with embedded debuggers. The default is <code>stayindebugwire</code>, i.e., debugWIREmode will not be left when exiting the debugger. <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor breakpoints</code> [<code>all</code> | <code>software</code> | <code>hardware</code>]</td>
<td>Restricts the kind of breakpoints the hardware debugger can use. Either <code>all</code> types are permitted, only <code>software</code> breakpoints are allowed, or only <code>hardware</code> breakpoints can be used. Using <code>all</code> kinds is the default.</td>
</tr>
<tr>
<td><code>monitor caching</code> [<code>enable</code> | <code>disable</code>]</td>
<td>The loaded executable is cached in the gdbserver when <code>enabled</code>, which is the default setting. <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor debugwire</code> [<code>enable</code> | <code>disable</code>]</td>
<td>DebugWIRE mode will be <code>enable</code>d or <code>disable</code>d. When enabling it, the MCU will be reset, and you may be asked to power-cycle the target. After disabling debugWIRE mode, one has to exit the debugger. Afterward, the MCU can be programmed again using SPI programming.<br/></td>
</tr>
<tr>
<td><code>monitor erasebeforeload</code> [<code>enable</code> | <code>disable</code>]</td>
<td>This monitor option controls whether the flash is erased before an executable is loaded, which is the default for all targets, except for debugWIRE targets, which do not have a chip erase command in debug mode. <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor help</code></td>
<td>Display help text.</td>
</tr>
<tr>
<td><code>monitor info</code></td>
<td>Display information about the target and the state of the debugger.</td>
</tr>
<tr>
<td><code>monitor load</code> [<code>readbeforewrite</code> | <code>writeonly</code>]</td>
<td>When loading an executable, either each flash page is compared with the content to be loaded, and flashing is skipped if the content is already there, or each flash page is written without reading the current contents beforehand. The first option is the default option for debugWIRE targets. For JTAG targets, the overhead of checking whether the page content is identical is so high that the <code>writeonly</code> option is the default.</td>
</tr>
<tr>
<td><code>monitor onlywhenloaded</code> [<code>enable</code> | <code>disable</code>]</td>
<td>Execution is only possible when a <code>load</code> command was previously executed, which is the default. If you want to start execution without loading an executable first, you need to <code>disable</code> this mode.</td>
</tr>
<tr>
<td><code>monitor rangestepping</code>[<code>enable</code> | <code>disable</code>]</td>
<td>The GDB range-stepping command is supported or disabled. The default is that it is <code>enable</code>d.  <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor reset</code></td>
<td>Resets the MCU.</td>
</tr>
<tr>
<td><code>monitor singlestep</code> [<code>safe</code> | <code>interruptible</code>]</td>
<td>Single-stepping can be performed in a <code>safe</code> way, where single steps are shielded against interrupts. Otherwise, a single step can lead to a jump into the interrupt dispatch table. The <code>safe</code> option is the default.</td>
</tr>
<tr>
<td><code>monitor speed</code> [<code>low</code> | <code>high</code>]</td>
<td>Set the communication speed limit to the target to <code>low</code> (=150kbps) (default) or to <code>high</code> (=300kbps); without an argument, the current communication speed and speed limit are printed.<strong>(*)</strong></td>
</tr>
<tr>
<td><code>monitor timer</code> [<code>run</code> | <code>freeze</code>]</td>
<td>Timers can either be <code>frozen</code> when execution is stopped, or they can <code>run</code> freely. The latter option is helpful when PWM output is crucial and is the default.</td>
</tr>
<tr>
<td><code>monitor verify</code> [<code>enable</code>|<code>disable</code>]</td>
<td>Verify flash after loading each flash page. The default setting is for this option to be <code>enable</code>d.</td>
</tr>
<tr>
<td><code>monitor version</code></td>
<td>Show version of the gdbserver.</td>
</tr>
</tbody>
</table>
<p>All commands can, as usual, be abbreviated. For example, <code>mo d e</code> is equivalent to <code>monitor debugwire enable</code>. If you use a command without an argument, the current setting is printed.</p>
<p>Commands marked with <strong>(+)</strong> are not implemented in dw-link; those marked with <strong>(*)</strong> are specific to dw-link.</p>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../usage/" title="Debugging the target"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../restore-original-state/" title="Restoring the target">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span>
<a class="fa fa-github" href="https://github.com/felias-fogg/pyavrocd" style="color: #fcfcfc"> GitHub</a>
</span>
<span><a href="../usage/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../restore-original-state/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "..";</script>
<script src="../js/theme_extra.js"></script>
<script src="../js/theme.js"></script>
<script src="../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
