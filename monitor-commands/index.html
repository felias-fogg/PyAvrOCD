<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Monitor commands - PyAvrOCD</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Monitor commands";
        var mkdocs_page_input_path = "monitor-commands.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> PyAvrOCD
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Installation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../install-link/">PyAvrOCD</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debugging-software/">Debugging software</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Usage</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../board-preparation/">Preparing the target</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../connect-to-target/">Connecting to the target</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../command-line-options/">Invoking the server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debugging/">Debugging on the target</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Monitor commands</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../restore-original-state/">Restoring the target</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Supported devices</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../supported-mcus/">MCUs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../supported-boards/">Boards</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../supported-debuggers/">Hardware debuggers</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Caveats</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../disclaimer/">Disclaimer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debugwire-risks/">debugWIRE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../flash-wear/">Flash wear</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../limitations/">Limitations</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../license-link/">License</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../release-notes/">Release notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../credits-link/">Credits</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../code_of_conduct-link/">Code of conduct</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">PyAvrOCD</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Usage</li>
      <li class="breadcrumb-item active">Monitor commands</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/felias-fogg/PyAvrOCD/edit/master/docs/monitor-commands.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="monitor-commands">Monitor commands</h1>
<p>PyAvrOCD implements several <code>monitor</code> commands. These can be used to control important aspects of the GDB server. One important command is the <code>monitor debugwire enable</code> command, which enables debugWIRE mode on MCUs supporting this interface.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>monitor</code> <code>atexit</code> [<code>stayindebugwire</code> | <code>leavedebugwire</code>]</td>
<td>When specifying <code>leavedubgwire</code>, then debugWIRE mode will be left when exiting the debugger. This is useful when dealing with embedded debuggers. The default is <code>stayindebugwire</code>, i.e., debugWIREmode will not be left when exiting the debugger. <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor</code> <code>breakpoints</code> [<code>all</code> | <code>software</code> | <code>hardware</code>]</td>
<td>Restricts the kind of breakpoints the hardware debugger can use. Either <code>all</code> types are permitted, only <code>software</code> breakpoints are allowed, or only <code>hardware</code> breakpoints can be used. Using <code>all</code> kinds is the default.</td>
</tr>
<tr>
<td><code>monitor</code> <code>caching</code> [<code>enable</code> | <code>disable</code>]</td>
<td>The loaded executable is cached in the gdbserver when <code>enabled</code>, which is the default setting. <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor</code> <code>debugwire</code> [<code>enable</code> | <code>disable</code>]</td>
<td>DebugWIRE mode will be <code>enable</code>d or <code>disable</code>d. When enabling it, the MCU will be reset, and you may be asked to power-cycle the target. After disabling debugWIRE mode, one has to exit the debugger. Afterward, the MCU can be programmed again using SPI programming.<br></td>
</tr>
<tr>
<td><code>monitor</code>  <code>erasebeforeload</code> [<code>enable</code> | <code>disable</code>]</td>
<td>This monitor option controls whether the flash is erased before an executable is loaded, which is the default for all targets, except for debugWIRE targets, which do not have a chip erase command in debug mode. <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor</code> <code>help</code></td>
<td>Display help text.</td>
</tr>
<tr>
<td><code>monitor</code> <code>info</code></td>
<td>Display information about the target and the state of the debugger.</td>
</tr>
<tr>
<td><code>monitor</code> <code>load</code> [<code>readbeforewrite</code> | <code>writeonly</code>]</td>
<td>When loading an executable, either each flash page is compared with the content to be loaded, and flashing is skipped if the content is already there, or each flash page is written without reading the current contents beforehand. The first option is the default option for debugWIRE targets. For JTAG targets, the overhead of checking whether the page content is identical is so high that the <code>writeonly</code> option is the default.</td>
</tr>
<tr>
<td><code>monitor</code> <code>onlywhenloaded</code> [<code>enable</code> | <code>disable</code>]</td>
<td>Execution is only possible when a <code>load</code> command was previously executed, which is the default. If you want to start execution without loading an executable first, you need to <code>disable</code> this mode.</td>
</tr>
<tr>
<td><code>monitor</code> <code>rangestepping</code>[<code>enable</code> | <code>disable</code>]</td>
<td>The GDB range-stepping command is supported or disabled. The default is that it is <code>enable</code>d.  <strong>(+)</strong></td>
</tr>
<tr>
<td><code>monitor</code> <code>reset</code></td>
<td>Resets the MCU.</td>
</tr>
<tr>
<td><code>monitor</code> <code>singlestep</code> [<code>safe</code> | <code>interruptible</code>]</td>
<td>Single-stepping can be performed in a <code>safe</code> way, where single steps are shielded against interrupts. Otherwise, a single step can lead to a jump into the interrupt dispatch table. The <code>safe</code> option is the default. Note that the <code>safe</code> option reduces the number of available hardware breakpoints by one.</td>
</tr>
<tr>
<td><code>monitor</code> <code>speed</code> [<code>low</code> | <code>high</code>]</td>
<td>Set the communication speed limit to the target to <code>low</code> (=150kbps) (default) or to <code>high</code> (=300kbps); without an argument, the current communication speed and speed limit are printed.<strong>(*)</strong></td>
</tr>
<tr>
<td><code>monitor</code> <code>timer</code> [<code>run</code> | <code>freeze</code>]</td>
<td>Timers can either be <code>frozen</code> when execution is stopped, or they can <code>run</code> freely. The latter option is helpful when PWM output is crucial and is the default.</td>
</tr>
<tr>
<td><code>monitor</code> <code>verify</code> [<code>enable</code>|<code>disable</code>]</td>
<td>Verify flash after loading each flash page. The default setting is for this option to be <code>enable</code>d.</td>
</tr>
<tr>
<td><code>monitor</code> <code>version</code></td>
<td>Show version of the gdbserver.</td>
</tr>
</tbody>
</table>
<p>All commands can, as usual, be abbreviated. For example, <code>mo d e</code> is equivalent to <code>monitor debugwire enable</code>. If you use a command without an argument, the current setting is printed. All state-changing commands (except <code>debugwire</code>) can also be specified as command-line options when invoking PyAvrOCD, e.g., <code>--verify disable</code>.</p>
<p>Commands marked with <strong>(+)</strong> are not implemented in dw-link; those marked with <strong>(*)</strong> are specific to dw-link.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../debugging/" class="btn btn-neutral float-left" title="Debugging on the target"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../restore-original-state/" class="btn btn-neutral float-right" title="Restoring the target">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/felias-fogg/PyAvrOCD" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../debugging/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../restore-original-state/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
