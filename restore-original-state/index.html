<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<title>Restoring the target - PyAvrOCD</title>
<link href="../css/theme.css" rel="stylesheet"/>
<link href="../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<link href="../style.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Restoring the target";
        var mkdocs_page_input_path = "restore-original-state.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<link href="../../docs/PyAvrOCD.pdf" rel="alternate" title="PDF" type="application/pdf"/></head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href=".."> PyAvrOCD
        </a><div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL/">GDB server</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../debugging-software/">Debugging software</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../board-preparation/">Preparing the target</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../connect-to-target/">Connecting to target</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../command-line-options/">Invoking the server</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../debugging/">Debugging the target</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../monitor-commands/">Monitor commands</a>
</li>
<li class="toctree-l1 current"><a class="reference internal current" href="#">Restoring the target</a>
<ul class="current">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Supported devices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../supported-mcus/">MCUs</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../supported-boards/">Boards</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../supported-debuggers/">Hardware debuggers</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Caveats</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../disclaimer/">Disclaimer</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../debugwire-risks/">debugWIRE</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flash-wear/">Flash wear</a>
</li>
</ul>
<p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/">Release notes</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.txt">License</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="..">PyAvrOCD</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href=".."></a></li>
<li class="breadcrumb-item">Usage</li>
<li class="breadcrumb-item active">Restoring the target</li>
<li class="wy-breadcrumbs-aside">
<a class="icon icon-github" href="https://github.com/felias-fogg/PyAvrOCD/edit/master/docs/restore-original-state.md"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="restoring-a-target-to-its-original-state-after-debugging">Restoring a target to its original state after debugging</h1>
<p>If, after debugging, you want to restore a target board to its original state, a few things have to be done:</p>
<ol>
<li>
<p>If your target is a debugWIRE MCU, then you need to disable debugWIRE mode. This can be done by entering the debugger and then issuing the <code>monitor debugwire disable</code> command.</p>
</li>
<li>
<p>You need to undo the physical changes you have made to the board. This may be to restore a solder bridge (or solder a header in its place). Alternatively, you may need to solder a capacitor again or reconnect a reset circuit. My advice is not to do that, but mark the board instead for <strong>debug use</strong> only.  In this case, you can also ignore step 3.</p>
</li>
<li>
<p>You may need to reflash the bootloader and likely need to set the correct fuses.</p>
</li>
<li>
<p>In the Arduino IDE, you can do this by using the <code>Burn Bootloader</code> command in the <code>Tools</code> menu. This will set the correct fuses and reinstall the bootloader.</p>
</li>
</ol>
<p>To restore the board to its exact original state before debugging, you must download the bootloader and record the fuses before initiating the debugging process. Then you can easily restore the original state using an SPI programmer.</p>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../monitor-commands/" title="Monitor commands"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../configuration/" title="Configuration">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span>
<a class="fa fa-github" href="https://github.com/felias-fogg/PyAvrOCD" style="color: #fcfcfc"> GitHub</a>
</span>
<span><a href="../monitor-commands/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../configuration/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "..";</script>
<script src="../js/theme_extra.js"></script>
<script src="../js/theme.js"></script>
<script src="../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
